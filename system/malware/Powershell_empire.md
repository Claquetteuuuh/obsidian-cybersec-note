
**Powershell empire** est un **framework** d'**exploitation** et de **post-exploitation** fait principalement en **powershell**.

## __Installation__

### Kali-linux

```shell
$ sudo apt install powershell-empire -y 
$ powershell-empire
```

### Github

```shell
$ sudo apt install python3-pip
$ sudo pip3 install poetry
$ git clone --recursive https://github.com/BC-SECURITY/Empire.git
$ cd Empire
$ sudo ./setup/install.sh
$ sudo poetry install
```


## __Start__

### Kali-linux

Dans un premier terminal lancer la commande :

```shell
$ powershell-empire server
```

Dans un second onglet, lancer la commande :

```shell
$ powershell-empire client
```


### Other

Dans un premier terminal lancer la commande :

```shell
$ sudo poetry run python3 empire.py server
```

Dans un second onglet, lancer la commande :

```shell
$ sudo poetry run python3 empire.py client
```


## __Usage__

### __Help__

La commande help affiche les commande et leur usage.

```shell
(Empire) > help

┌Help Options───┬──────────────────────────────────────────────────────────────────────────────────────────────────────────┬────────────────────────────────────┐
│ Name          │ Description                                                                                              │ Usage                              │
├───────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────────────────────────────┤
│ admin         │ View admin menu                                                                                          │ admin                              │
├───────────────┼──────────────────────────────────────────────────────────────────────────
 ...
├───────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────────────────────────────┤
│ useplugin     │ Use an Empire plugin.                                                                                    │ useplugin <plugin_name>            │
├───────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────────────────────────────┤
│ usestager     │ Use an Empire stager.                                                                                    │ usestager <stager_name>            │
└───────────────┴──────────────────────────────────────────────────────────────────────────────────────────────────────────┴────────────────────────────────────┘

```


### __Listeners__

Pour mettre en place une connection entre une machine distante et la notre, on doit mettre en place un listener.

Pour entrer dans le contexte listener, on effectue la commande :

```shell
(Empire) > listeners

┌Listeners List────────┬──────────────────────────────────────┬─────────┐
│ ID │ Name │ Template │ Created At                           │ Enabled │
├────┼──────┼──────────┼──────────────────────────────────────┼─────────┤
│ 1  │ http │ http     │ 2023-05-13 18:07:45 CEST (a day ago) │ True    │
└────┴──────┴──────────┴──────────────────────────────────────┴─────────┘

(Empire: listeners) >

```